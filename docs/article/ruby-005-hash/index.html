<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="vi-VN">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <link rel="home" href="//devnotes.tamthapnhilap.site" />
    <meta name="generator" content="misostack-seo" />    
    
    
    <title>Ruby 005 Hash | DevNotes 2019</title>
    <meta name="robots" content="all" />
    <meta name="keywords" content="Ruby 005 Hash" />
    <meta name="description" content="Ruby 005 Hash" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="//devnotes.tamthapnhilap.site/common/no-image-available.jpg" />
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="og:image:width" content="750" />
    <meta property="og:image:height" content="300" />

    
    <link href="//devnotes.tamthapnhilap.site/dist/styles.css" rel="stylesheet" />
    <script type="text/javascript">
    var GTM_KEY = 'GTM-5258TVZ';
    console.group('GTM');
    console.log('GTM-DEMO');
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer', GTM_KEY);
    
    
    console.groupEnd();
    </script>    
</head>
<body class="body-default">

    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5258TVZ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
        
    <div class="wrapper">        
        <header class="header">
    <div class="container">
        <a class="technical-blog-logo" href="//devnotes.tamthapnhilap.site">DevNotes 2019</a>
    </div>
</header>
<div class="mainnav">
        <nav id="navBar" class="navbar navbar-default navbar-fixed clearfix">
            <a href="/" class="navbar-branch">
                Home
            </a>
            <div class="navbar-menu-wrap">
                <ul class="navbar-menu">
                    
                        <li><a href="//devnotes.tamthapnhilap.site/categories">categories</a></li>
                    
                        <li><a href="//devnotes.tamthapnhilap.site/projects">projects</a></li>
                    
                        <li><a href="//devnotes.tamthapnhilap.site/subjects">subjects</a></li>
                    
                    
                        <li>
                            <a href="//devnotes.tamthapnhilap.site/hugo">Hugo tips</a>
                            
                        </li>
                    
                        <li>
                            <a href="//devnotes.tamthapnhilap.site/manifesto">Manifesto</a>
                            
                        </li>
                    
                        <li>
                            <a href="//devnotes.tamthapnhilap.site">Links</a>
                            
                                <ul class="navbar-sub-menu">                                    
                                
                                    <li><a href="https://gist.github.com/misostack">Gist Collections</a></li>
                                
                                    <li><a href="https://smtebooks.us/">Free ebooks</a></li>
                                
                                    <li><a href="https://behappyisenough.wordpress.com/2018/05/21/sharing-ebooks-and-free-tools/">Shared Data</a></li>
                                
                                    <li><a href="https://regex101.com/">Online Regex</a></li>
                                
                                    <li><a href="http://www.bashoneliners.com/">Bash Online</a></li>
                                
                                    <li><a href="https://www.epochconverter.com/">Unix Timestamp Conversion</a></li>
                                
                                    <li><a href="https://ryanstutorials.net/bash-scripting-tutorial/">Bash Scripting</a></li>
                                
                                    <li><a href="https://explainshell.com/">Explain Shell</a></li>
                                
                                </ul>
                            
                        </li>
                    
                </ul>
            </div>
        </nav>
    </div>
        <div class="container-fluid main-content">                            
            
                <div class="row">
                    <main class="content col-md-12 full-content">
                        
    <article class="article article-scrollby" data-target="#article-scrollpy">
        <p class="text-center"><img class="responsive-image" src="/common/no-image-available.jpg" /></p>
        <h1>Ruby 005 Hash</h1>        
        <h2 id="hash">Hash</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">A hash can be created by:
- Implicit form
- With Symbol
- Or using new method
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby">grades <span style="color:#f92672">=</span> { <span style="color:#e6db74">&#34;Jane Doe&#34;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#34;Jim Doe&#34;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">6</span> }
puts <span style="color:#e6db74">&#34;grades[&#39;Jane Done&#39;] = </span><span style="color:#e6db74">#{</span>grades<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;Jane Doe&#39;</span><span style="color:#f92672">]</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
opts <span style="color:#f92672">=</span> {<span style="color:#e6db74">:font_size</span> <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">:font_family</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;Arial&#39;</span>}
puts <span style="color:#e6db74">&#34;opts[:font_size] =  </span><span style="color:#e6db74">#{</span>opts<span style="color:#f92672">[</span><span style="color:#e6db74">:font_size</span><span style="color:#f92672">]</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
new_opts <span style="color:#f92672">=</span> { <span style="color:#e6db74">font_size</span>: <span style="color:#ae81ff">12</span>, <span style="color:#e6db74">font_family</span>: <span style="color:#e6db74">&#39;Arial&#39;</span> }
puts <span style="color:#e6db74">&#34;new_opts[:font_size] = </span><span style="color:#e6db74">#{</span>new_opts<span style="color:#f92672">[</span><span style="color:#e6db74">:font_size</span><span style="color:#f92672">]</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
new_opts<span style="color:#f92672">[</span><span style="color:#e6db74">:font_weight</span><span style="color:#f92672">]</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;bold&#39;</span>
puts <span style="color:#e6db74">&#34;new_opts[:font_weight] = </span><span style="color:#e6db74">#{</span>new_opts<span style="color:#f92672">[</span><span style="color:#e6db74">:font_weight</span><span style="color:#f92672">]</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</code></pre></div><h2 id="important-notes-about-hash">Important notes about hash</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">Hashes have a default value that is returned when accessing keys that do not exist in the hash.
If no default is set nil is used. You can set the default value by sending it as an argument to ::new:
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby">grades <span style="color:#f92672">=</span> <span style="color:#66d9ef">Hash</span><span style="color:#f92672">.</span>new
grades<span style="color:#f92672">[</span><span style="color:#e6db74">&#34;Dorothy Doe&#34;</span><span style="color:#f92672">]</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">9</span>
grades<span style="color:#f92672">.</span>default <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> <span style="color:#75715e"># or grades = Hash.new(0)</span>
puts grades<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;anonymous&#39;</span><span style="color:#f92672">]</span> <span style="color:#75715e"># =&gt; 0</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CelestialBody</span>
	<span style="color:#66d9ef">attr_accessor</span> <span style="color:#e6db74">:type</span>, <span style="color:#e6db74">:name</span>
<span style="color:#66d9ef">end</span>

default_body <span style="color:#f92672">=</span> <span style="color:#66d9ef">CelestialBody</span><span style="color:#f92672">.</span>new
default_body<span style="color:#f92672">.</span>type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;planet&#39;</span>
bodies <span style="color:#f92672">=</span> <span style="color:#66d9ef">Hash</span><span style="color:#f92672">.</span>new(default_body)
p bodies<span style="color:#f92672">.</span>default
bodies<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;Mars&#39;</span><span style="color:#f92672">].</span>name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Mars&#39;</span>
p bodies<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;Mars&#39;</span><span style="color:#f92672">].</span>name
p bodies<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;Mars&#39;</span><span style="color:#f92672">].</span>type
</code></pre></div><h2 id="hash-default-block-call">Hash default block call</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#75715e">#!/usr/bin/env ruby</span>

puts <span style="color:#e6db74">&#39;Sample 1&#39;</span>
foods <span style="color:#f92672">=</span> <span style="color:#66d9ef">Hash</span><span style="color:#f92672">.</span>new(<span style="color:#f92672">[]</span>)
foods<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;A&#39;</span><span style="color:#f92672">]</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Apple 1&#34;</span>
foods<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;A&#39;</span><span style="color:#f92672">]</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Avocado 1&#34;</span>
foods<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;B&#39;</span><span style="color:#f92672">]</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Bacon 1&#34;</span>
foods<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;B&#39;</span><span style="color:#f92672">]</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Bread 1&#34;</span>
p foods<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;A&#39;</span><span style="color:#f92672">]</span>
p foods<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;B&#39;</span><span style="color:#f92672">]</span>
p foods

<span style="color:#75715e"># Array is an object, and &lt;&lt; is a call to an attribute write method. This does not assign to the hash</span>
puts <span style="color:#e6db74">&#39;Sample 2&#39;</span>
foods2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">Hash</span><span style="color:#f92672">.</span>new { <span style="color:#f92672">|</span>hash,key<span style="color:#f92672">|</span>  <span style="color:#f92672">[]</span>}
foods2<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;A&#39;</span><span style="color:#f92672">]</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Apple 2&#34;</span> 
foods2<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;A&#39;</span><span style="color:#f92672">]</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Avocado 2&#34;</span>
foods2<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;B&#39;</span><span style="color:#f92672">]</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Bacon 2&#34;</span>
foods2<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;B&#39;</span><span style="color:#f92672">]</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Bread 2&#34;</span>
p foods2<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;A&#39;</span><span style="color:#f92672">]</span>
p foods2<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;B&#39;</span><span style="color:#f92672">]</span>
p foods2

puts <span style="color:#e6db74">&#39;Sample 3 : hash default block&#39;</span>
foods3 <span style="color:#f92672">=</span> <span style="color:#66d9ef">Hash</span><span style="color:#f92672">.</span>new { <span style="color:#f92672">|</span>hash,key<span style="color:#f92672">|</span> hash<span style="color:#f92672">[</span>key<span style="color:#f92672">]</span> <span style="color:#f92672">=</span> <span style="color:#f92672">[]</span>}
foods3<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;A&#39;</span><span style="color:#f92672">]</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Apple 2&#34;</span>
foods3<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;A&#39;</span><span style="color:#f92672">]</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Avocado 2&#34;</span>
foods3<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;B&#39;</span><span style="color:#f92672">]</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Bacon 2&#34;</span>
foods3<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;B&#39;</span><span style="color:#f92672">]</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Bread 2&#34;</span>
p foods3<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;A&#39;</span><span style="color:#f92672">]</span>
p foods3<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;B&#39;</span><span style="color:#f92672">]</span>
p foods3

characters <span style="color:#f92672">=</span> <span style="color:#f92672">[</span><span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>,<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>,<span style="color:#e6db74">&#39;d&#39;</span>,<span style="color:#e6db74">&#39;e&#39;</span><span style="color:#f92672">]</span>
counters <span style="color:#f92672">=</span> <span style="color:#66d9ef">Hash</span><span style="color:#f92672">.</span>new(<span style="color:#ae81ff">0</span>)

characters<span style="color:#f92672">.</span>each { <span style="color:#f92672">|</span>char<span style="color:#f92672">|</span>
	counters<span style="color:#f92672">[</span>char<span style="color:#f92672">]</span> <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
}

p counters
</code></pre></div><p><strong>Output</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Sample <span style="color:#ae81ff">1</span>
<span style="color:#f92672">[</span><span style="color:#e6db74">&#34;Apple 1&#34;</span>, <span style="color:#e6db74">&#34;Avocado 1&#34;</span>, <span style="color:#e6db74">&#34;Bacon 1&#34;</span>, <span style="color:#e6db74">&#34;Bread 1&#34;</span><span style="color:#f92672">]</span>
<span style="color:#f92672">[</span><span style="color:#e6db74">&#34;Apple 1&#34;</span>, <span style="color:#e6db74">&#34;Avocado 1&#34;</span>, <span style="color:#e6db74">&#34;Bacon 1&#34;</span>, <span style="color:#e6db74">&#34;Bread 1&#34;</span><span style="color:#f92672">]</span>
<span style="color:#f92672">{}</span>
Sample <span style="color:#ae81ff">2</span>
<span style="color:#f92672">[]</span>
<span style="color:#f92672">[]</span>
<span style="color:#f92672">{}</span>
Sample <span style="color:#ae81ff">3</span> : hash default block
<span style="color:#f92672">[</span><span style="color:#e6db74">&#34;Apple 2&#34;</span>, <span style="color:#e6db74">&#34;Avocado 2&#34;</span><span style="color:#f92672">]</span>
<span style="color:#f92672">[</span><span style="color:#e6db74">&#34;Bacon 2&#34;</span>, <span style="color:#e6db74">&#34;Bread 2&#34;</span><span style="color:#f92672">]</span>
<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;A&#34;</span><span style="color:#f92672">=</span>&gt;<span style="color:#f92672">[</span><span style="color:#e6db74">&#34;Apple 2&#34;</span>, <span style="color:#e6db74">&#34;Avocado 2&#34;</span><span style="color:#f92672">]</span>, <span style="color:#e6db74">&#34;B&#34;</span><span style="color:#f92672">=</span>&gt;<span style="color:#f92672">[</span><span style="color:#e6db74">&#34;Bacon 2&#34;</span>, <span style="color:#e6db74">&#34;Bread 2&#34;</span><span style="color:#f92672">]}</span>
<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">=</span>&gt;2, <span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">=</span>&gt;1, <span style="color:#e6db74">&#34;c&#34;</span><span style="color:#f92672">=</span>&gt;2, <span style="color:#e6db74">&#34;d&#34;</span><span style="color:#f92672">=</span>&gt;1, <span style="color:#e6db74">&#34;e&#34;</span><span style="color:#f92672">=</span>&gt;1<span style="color:#f92672">}</span>
</code></pre></div><h2 id="summary">Summary</h2>
<ul>
<li>if your default value is <strong>a number</strong>, you can use a hash default object</li>
<li>if your default value is <strong>anything else</strong>, you should use a hash default block</li>
<li>Variables, arrays, hashes, and other data structures don&rsquo;t contain objects, just references to them</li>
</ul>

    </article>

                    </main>                    
                </div>                
            
        </div>
        <footer id="footer" class="footer footer-default">
  <div class="container">
      <div class="text">
          Proudly powered by techblog2020 theme from <strong class="yellow"><a href="http://tamthapnhilap.site">tamthapnhilap</a></strong>
      </div>
  </div>
</footer>
    </div>
    <script type="text/javascript" src="//devnotes.tamthapnhilap.site/dist/app.bundle.js"></script></script>></body>
</html>